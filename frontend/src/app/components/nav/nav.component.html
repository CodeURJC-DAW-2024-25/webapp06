<link rel="stylesheet" href="./nav.component.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<nav class="main_nav_div">
    <div class="title_sections_div">
        <a [routerLink]="getHomeLink()">
            <h1 class="title_sections">GlobalMart</h1>
        </a>

        <div class="sections_list">
            <a routerLink="/products" class="section">Products</a>
            <a *ngIf="isAdmin" routerLink="/adminPage" class="section">Admin</a>
            <a routerLink="/about-us" class="section">About us</a>
        </div>
    </div>

    <form *ngIf="!isCompany" class="search_form" action="/search" method="get" role="search">
        <select class="search_category" name="type">
            <option value="all">All</option>
            <option value="Technology">Technology</option>
            <option value="Books">Books</option>
            <option value="Education">Education</option>
            <option value="Appliances">Appliances</option>
            <option value="Sports">Sports</option>
            <option value="Home">Home</option>
            <option value="Music">Music</option>
            <option value="Cinema">Cinema</option>
            <option value="Others">Others</option>
        </select>
        <input name="search_text" class="search_input" type="search" placeholder="Search" aria-label="Search">
        <button class="search_button" type="submit"><i class="bi bi-search"></i></button>
    </form>

    <div *ngIf="logged" class="login_user">
        <div *ngIf="isCompany" class="add_product_div">
            <a routerLink="/new_product" class="add_product_link"><i class="bi bi-plus-circle"
                    id="add_product_button"></i></a>
        </div>
        <div class="user_div">
            <a routerLink="/user-profile" class="user"><i class="bi bi-person"></i></a>
            <h3 class="username">{{username}}</h3>
        </div>
        <a *ngIf="isUser" routerLink="/shoppingcart" class="cart"><i class="bi bi-cart"></i></a>
        <form action="/logout" method="post" style="display:inline;">
            <!-- Si CSRF está habilitado, añade el token -->
            <button type="submit" class="logout">Log Out</button>
        </form>
    </div>

    <div *ngIf="!logged" class="login_register_div">
        <a class="login" routerLink="/login">Login</a>
        <a class="register" routerLink="/register">Register</a>
    </div>
</nav>

<div *ngIf="!isAdmin && !isCompany" class="categories_div">
    <a routerLink="/products" class="category">All</a>
    <a routerLink="/products/Technology" class="category">Technology</a>
    <a routerLink="/products/Books" class="category">Books</a>
    <a routerLink="/products/Education" class="category">Education</a>
    <a routerLink="/products/Appliances" class="category">Appliances</a>
    <a routerLink="/products/Sports" class="category">Sports</a>
    <a routerLink="/products/Home" class="category">Home</a>
    <a routerLink="/products/Music" class="category">Music</a>
    <a routerLink="/products/Cinema" class="category">Cinema</a>
    <a routerLink="/products/Others" class="category">Others</a>
</div>

<!--  Para mostrar el pop-up -->
<!-- <ng-container *ngTemplateOutlet="chooseLoginRegisterOption"></ng-container> -->

<script src="../../js/login.js"></script>